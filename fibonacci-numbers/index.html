<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/Dynamic-Programming-Patterns/libs/katex/katex.min.css"> <link rel=stylesheet  href="/Dynamic-Programming-Patterns/libs/highlight/github.min.css"> <link rel=stylesheet  href="/Dynamic-Programming-Patterns/css/franklin.css"> <link rel=stylesheet  href="/Dynamic-Programming-Patterns/css/poole_hyde.css"> <link rel=stylesheet  href="/Dynamic-Programming-Patterns/css/custom.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <title>0/1 Knapsack</title> <script src="/Dynamic-Programming-Patterns/libs/lunr/lunr.min.js"></script> <script src="/Dynamic-Programming-Patterns/libs/lunr/lunr_index.js"></script> <script src="/Dynamic-Programming-Patterns/libs/lunr/lunrclient.min.js"></script> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <br> <img src="/Dynamic-Programming-Patterns/assets/infra/DP.svg" style="width: 160px; height: auto; display: inline"> <h1> <div style="line-height:18px; font-size: 20px; opacity: 0.85"><a href="/Dynamic-Programming-Patterns/">Dynamic Programming Patterns</a></div> </h1> <div style="line-height:18px; font-size: 15px; opacity: 0.85">by <a href="https://github.com/rfhklwt">Inia Owlet</a></div> </div> <br> <style> </style> <nav class=sidebar-nav  style="opacity: 0.9"> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/"><b>Overview</b></a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/introduction"><b>Introduction</b></a> <br> <div class=course-section >Pattern 1: 0/1 Knapsack</div> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/"><b>1.0</b> - 0/1 Knapsack</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/equal-subset-sum-partition/"><b>1.1</b> - Equal Subset Sum Partition</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/subset-sum/"><b>1.2</b> - Subset Sum</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/minimum-subset-sum-difference/"><b>1.3</b> - Minimum Subset Sum Difference</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/count-of-subset-sum/"><b>1.4</b> - Count of Subset Sum</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/0-1-knapsack/target-sum/"><b>1.5</b> - Target Sum</a> <div class=course-section >Pattern 2: Unbounded Knapsack</div> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/unbounded-knapsack/"><b>2.0</b> - Unbouned Knapsack</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/unbounded-knapsack/rod-cutting/"><b>2.1</b> - Rod Cutting</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/unbounded-knapsack/coin-change/"><b>2.2</b> - Coin Change</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/unbounded-knapsack/minimum-coin-change/"><b>2.3</b> - Minimum Coin Change</a> <a class="sidebar-nav-item " href="/Dynamic-Programming-Patterns/unbounded-knapsack/maximum-ribbon-cut/"><b>2.4</b> - Maximum Ribbon Cut</a> <div class=course-section >Pattern 3: Fast & Slow Pointers</div> <a class="sidebar-nav-item active" href="/Dynamic-Programming-Patterns/fibonacci-numbers/"><b>3.0</b> - Fibonacci Numbers</a> <br> </nav> </div> </div> <div class="content container"> <div class=franklin-content ><h1 id=01_knapsack ><a href="#01_knapsack" class=header-anchor >0/1 Knapsack</a></h1> <span style="font-size:24px;font-weight:300;">We'll cover the following</span> <div class=blank ></div> <div class=franklin-toc ><ol><li><a href="#problem_statement">Problem Statement</a><li><a href="#basic_solution">Basic Solution</a><li><a href="#top-down_dynamic_programming_with_memoization">Top-down Dynamic Programming with Memoization</a><li><a href="#bottom-up_dynamic_programming">Bottom-up Dynamic Programming</a><li><a href="#memory_optimization">Memory optimization</a><li><a href="#next">Next</a></ol></div> <div class=blank ></div> <h2 id=problem_statement ><a href="#problem_statement" class=header-anchor >Problem Statement</a></h2> <div class="admonition question"> <div class=admonition-title >ðŸ™‹ Question</div> <div class=admonition-content >Write a function to calculate the nth Fibonacci number.</div> </div> <p>Fibonacci numbers are a series of numbers in which each number is the sum of the two preceding numbers. First few Fibonacci numbers are: 0, 1, 1, 2, 3, 5, 8, â€¦</p> <p>Mathematically we can define the Fibonacci numbers as:</p> <pre><code class="Plaintext hljs">Fib(n) = Fib(n-1) + Fib(n-2), for n &gt; 1
Given that: Fib(0) = 0, and Fib(1) = 1</code></pre> <h2 id=basic_solution ><a href="#basic_solution" class=header-anchor >Basic Solution</a></h2> <p>A basic solution could be to have a recursive implementation of the mathematical formula discussed above:</p> <pre><code class="python hljs"><span class=hljs-keyword >def</span> <span class="hljs-title function_">calculateFibonacci</span>(<span class=hljs-params >n</span>):
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >2</span>:
        <span class=hljs-keyword >return</span> n

    <span class=hljs-keyword >return</span> calculateFibonacci(n - <span class=hljs-number >1</span>) + calculateFibonacci(n - <span class=hljs-number >2</span>)


<span class=hljs-keyword >def</span> <span class="hljs-title function_">main</span>():
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;5th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >5</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;6th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >6</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;7th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >7</span>)))


main()</code></pre> <div class="admonition complexity"> <div class=admonition-title >ðŸ‘‰ Complexity</div> <div class=admonition-content >The time complexity of the above algorithm is exponential <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(2^n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class=mord ><span class=mord >2</span><span class=msupsub ><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span> as we are making two recursive calls in the same function. The space complexity is <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class="mord mathdefault">n</span><span class=mclose >)</span></span></span></span> which is used to store the recursion stack.</div> </div> <p>Letâ€™s visually draw the recursion for <code>CalculateFibonacci&#40;4&#41;</code> to see the overlapping subproblems:</p> <p><img src="/Dynamic-Programming-Patterns/assets/img/fibonacci-numbers/3.1.png" alt="" /></p> <p>We can clearly see the overlapping subproblem pattern: <code>fib&#40;2&#41;</code> has been called twice and <code>fib&#40;1&#41;</code> has been called thrice. We can optimize this using memoization to store the results for subproblems.</p> <h2 id=top-down_dynamic_programming_with_memoization ><a href="#top-down_dynamic_programming_with_memoization" class=header-anchor >Top-down Dynamic Programming with Memoization</a></h2> <p>We can use an array to store the already solved subproblems. Here is the code:</p> <pre><code class="python hljs"><span class=hljs-keyword >def</span> <span class="hljs-title function_">calculateFibonacci</span>(<span class=hljs-params >n</span>):
    memoize = [-<span class=hljs-number >1</span> <span class=hljs-keyword >for</span> x <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(n+<span class=hljs-number >1</span>)]
    <span class=hljs-keyword >return</span> calculateFibonacciRecur(memoize, n)


<span class=hljs-keyword >def</span> <span class="hljs-title function_">calculateFibonacciRecur</span>(<span class=hljs-params >memoize, n</span>):
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >2</span>:
        <span class=hljs-keyword >return</span> n

    <span class=hljs-comment ># if we have already solved this subproblem, simply return the result from the cache</span>
    <span class=hljs-keyword >if</span> memoize[n] &gt;= <span class=hljs-number >0</span>:
        <span class=hljs-keyword >return</span> memoize[n]

    memoize[n] = calculateFibonacciRecur(
        memoize, n - <span class=hljs-number >1</span>) + calculateFibonacciRecur(memoize, n - <span class=hljs-number >2</span>)
    <span class=hljs-keyword >return</span> memoize[n]


<span class=hljs-keyword >def</span> <span class="hljs-title function_">main</span>():
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;5th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >5</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;6th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >6</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;7th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >7</span>)))


main()</code></pre> <h2 id=bottom-up_dynamic_programming ><a href="#bottom-up_dynamic_programming" class=header-anchor >Bottom-up Dynamic Programming</a></h2> <p>Letâ€™s try to populate our <code>dp&#91;&#93;</code> array from the above solution, working in a bottom-up fashion. Since every Fibonacci number is the sum of the previous two numbers, we can use this fact to populate our array.</p> <p>Here is the code for the bottom-up dynamic programming approach:</p> <pre><code class="python hljs"><span class=hljs-keyword >def</span> <span class="hljs-title function_">calculateFibonacci</span>(<span class=hljs-params >n</span>):
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >2</span>:
        <span class=hljs-keyword >return</span> n
    dp = [<span class=hljs-number >0</span>, <span class=hljs-number >1</span>]
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(<span class=hljs-number >2</span>, n + <span class=hljs-number >1</span>):
        dp.append(dp[i - <span class=hljs-number >1</span>] + dp[i - <span class=hljs-number >2</span>])

    <span class=hljs-keyword >return</span> dp[n]


<span class=hljs-keyword >def</span> <span class="hljs-title function_">main</span>():
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;5th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >5</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;6th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >6</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;7th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >7</span>)))


main()</code></pre> <div class="admonition complexity"> <div class=admonition-title >ðŸ‘‰ Complexity</div> <div class=admonition-content >The above solution has time and space complexity of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class="mord mathdefault">n</span><span class=mclose >)</span></span></span></span>.</div> </div> <h2 id=memory_optimization ><a href="#memory_optimization" class=header-anchor >Memory optimization</a></h2> <p>We can optimize the space used in our previous solution. We donâ€™t need to store all the Fibonacci numbers up to <code>n</code>, as we only need two previous numbers to calculate the next Fibonacci number. We can use this fact to further improve our solution:</p> <pre><code class="python hljs"><span class=hljs-keyword >def</span> <span class="hljs-title function_">calculateFibonacci</span>(<span class=hljs-params >n</span>):
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >2</span>:
        <span class=hljs-keyword >return</span> n

    n1, n2, temp = <span class=hljs-number >0</span>, <span class=hljs-number >1</span>, <span class=hljs-number >0</span>
    <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(<span class=hljs-number >2</span>, n + <span class=hljs-number >1</span>):
        temp = n1 + n2
        n1 = n2
        n2 = temp

    <span class=hljs-keyword >return</span> n2


<span class=hljs-keyword >def</span> <span class="hljs-title function_">main</span>():
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;5th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >5</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;6th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >6</span>)))
    <span class=hljs-built_in >print</span>(<span class=hljs-string >&quot;7th Fibonacci is ---&gt; &quot;</span> + <span class=hljs-built_in >str</span>(calculateFibonacci(<span class=hljs-number >7</span>)))


main()</code></pre> <div class="admonition complexity"> <div class=admonition-title >ðŸ‘‰ Complexity</div> <div class=admonition-content >The above solution has a time complexity of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><mi>n</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class="mord mathdefault">n</span><span class=mclose >)</span></span></span></span> but a constant space complexity <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy=false >(</mo><mn>1</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class=mopen >(</span><span class=mord >1</span><span class=mclose >)</span></span></span></span>.</div> </div> <h2 id=next ><a href="#next" class=header-anchor >Next</a></h2> <div class=flist ><ul> <li><p><a href="/Dynamic-Programming-Patterns/fibonacci-numbers/staircase" id=goto ><span id=check >&check;</span><span id=arrow ><b>&rarr;</b></span></a> Staircase</p> </ul></div> <div class=page-foot > <div class=copyright > &copy; Qling Alter. Last modified: June 09, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> </div> </div> <!-- end of class page-wrap-->